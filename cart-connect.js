!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).ccApp=e()}(this,function(){"use strict";function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function e(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function r(o){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?e(Object(i),!0).forEach(function(t){var e,n,r;e=o,r=i[n=t],n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(i,t))})}return o}function a(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(t,e){return t(e={exports:{}},e.exports),e.exports}t(function(t){var e=function(a){var f,t=Object.prototype,l=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag";function i(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{i({},"")}catch(t){i=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i,a,c,s,o=e&&e.prototype instanceof g?e:g,u=Object.create(o.prototype),l=new j(r||[]);return u._invoke=(i=t,a=n,c=l,s=p,function(t,e){if(s===m)throw new Error("Generator is already running");if(s===y){if("throw"===t)throw e;return _()}for(c.method=t,c.arg=e;;){var n=c.delegate;if(n){var r=function t(e,n){var r=e.iterator[n.method];if(r===f){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=f,t(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=d(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var i=o.arg;if(!i)return n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v;{if(!i.done)return i;n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=f)}n.delegate=null;return v}(n,c);if(r){if(r===v)continue;return r}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(s===p)throw s=y,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);s=m;var o=d(i,a,c);if("normal"===o.type){if(s=c.done?y:h,o.arg===v)continue;return{value:o.arg,done:c.done}}"throw"===o.type&&(s=y,c.method="throw",c.arg=o.arg)}}),u}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=c;var p="suspendedStart",h="suspendedYield",m="executing",y="completed",v={};function g(){}function s(){}function u(){}var w={};w[o]=function(){return this};var b=Object.getPrototypeOf,S=b&&b(b(A([])));S&&S!==t&&l.call(S,o)&&(w=S);var T=u.prototype=g.prototype=Object.create(w);function x(t){["next","throw","return"].forEach(function(e){i(t,e,function(t){return this._invoke(e,t)})})}function O(s,u){var e;this._invoke=function(n,r){function t(){return new u(function(t,e){!function e(t,n,r,o){var i=d(s[t],s,n);if("throw"!==i.type){var a=i.arg,c=a.value;return c&&"object"===B(c)&&l.call(c,"__await")?u.resolve(c.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):u.resolve(c).then(function(t){a.value=t,r(a)},function(t){return e("throw",t,r,o)})}o(i.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=f,t.done=!0,t};return r.next=r}}return{next:_}}function _(){return{value:f,done:!0}}return((s.prototype=T.constructor=u).constructor=s).displayName=i(u,r,"GeneratorFunction"),a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===s||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,i(t,r,"GeneratorFunction")),t.prototype=Object.create(T),t},a.awrap=function(t){return{__await:t}},x(O.prototype),O.prototype[n]=function(){return this},a.AsyncIterator=O,a.async=function(t,e,n,r,o){void 0===o&&(o=Promise);var i=new O(c(t,e,n,r),o);return a.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},x(T),i(T,r,"Generator"),T[o]=function(){return this},T.toString=function(){return"[object Generator]"},a.keys=function(n){var t,r=[];for(t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=A,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(I),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=f)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=f),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=l.call(o,"catchLoc"),c=l.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r,o=n.completion;return"throw"===o.type&&(r=o.arg,I(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=f),v}},a}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}});var n,i=t(function(t,e){var o=d&&d.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t,e,n){this.name=t,this.version=e,this.os=n};e.BrowserInfo=a;var n=function(t){this.version=t,this.name="node",this.os=process.platform};e.NodeInfo=n;var c=function(){this.bot=!0,this.name="bot",this.version=null,this.os=null};e.BotInfo=c;var s=3,u=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],i=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]];function r(i){var t=""!==i&&u.reduce(function(t,e){var n=e[0],r=e[1];if(t)return t;var o=r.exec(i);return!!o&&[n,o]},!1);if(!t)return null;var e=t[0],n=t[1];if("searchbot"===e)return new c;var r=n[1]&&n[1].split(/[._]/).slice(0,3);return r?r.length<s&&(r=o(r,function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(s-r.length))):r=[],new a(e,r.join("."),l(i))}function l(t){for(var e=0,n=i.length;e<n;e++){var r=i[e],o=r[0];if(r[1].test(t))return o}return null}function f(){return"undefined"!=typeof process&&process.version?new n(process.version.slice(1)):null}e.detect=function(t){return t?r(t):"undefined"!=typeof navigator?r(navigator.userAgent):f()},e.parseUserAgent=r,e.detectOS=l,e.getNodeVersion=f});(n=i)&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")&&n.default;i.BrowserInfo,i.NodeInfo,i.BotInfo;var c=i.detect,u=(i.parseUserAgent,i.detectOS,i.getNodeVersion,t(function(t){var i,n;i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];0<t;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var e=[],n=0;n<t.length;n+=3)for(var r=t[n]<<16|t[n+1]<<8|t[n+2],o=0;o<4;o++)8*n+6*o<=8*t.length?e.push(i.charAt(r>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],n=0,r=0;n<t.length;r=++n%4)0!=r&&e.push((i.indexOf(t.charAt(n-1))&Math.pow(2,-2*r+8)-1)<<2*r|i.indexOf(t.charAt(n))>>>6-2*r);return e}},t.exports=n})),l={utf8:{stringToBytes:function(t){return l.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(l.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}},f=l,p=t(function(t){function e(t,e){var n=g.wordsToBytes(function(t){t.constructor==String?t=w.stringToBytes(t):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());var e=g.bytesToWords(t),n=8*t.length,r=[],o=1732584193,i=-271733879,a=-1732584194,c=271733878,s=-1009589776;e[n>>5]|=128<<24-n%32,e[15+(64+n>>>9<<4)]=n;for(var u=0;u<e.length;u+=16){for(var l,f=o,d=i,p=a,h=c,m=s,y=0;y<80;y++){y<16?r[y]=e[u+y]:(l=r[y-3]^r[y-8]^r[y-14]^r[y-16],r[y]=l<<1|l>>>31);var v=(o<<5|o>>>27)+s+(r[y]>>>0)+(y<20?1518500249+(i&a|~i&c):y<40?1859775393+(i^a^c):y<60?(i&a|i&c|a&c)-1894007588:(i^a^c)-899497514),s=c,c=a,a=i<<30|i>>>2,i=o,o=v}o+=f,i+=d,a+=p,c+=h,s+=m}return[o,i,a,c,s]}(t));return e&&e.asBytes?n:e&&e.asString?r.bytesToString(n):g.bytesToHex(n)}var g,w,r;g=u,w=f.utf8,r=f.bin,e._blocksize=16,e._digestsize=20,t.exports=e});function h(t,e,n){var r=new Date;r.setTime(r.getTime()+1e3*n);var o="expires=".concat(r.toUTCString());document.cookie="".concat(t,"=").concat(e,";").concat(o,";path=/")}function m(t){for(var e="".concat(t,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(e))return o.substring(e.length,o.length)}return""}var y=window.localStorage;function v(t,e){y.setItem(t,e)}function g(t){return y.getItem(t)}function w(t,e){var n=document.createElement("script");n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,setTimeout(function(){e()},200))}:n.onload=function(){setTimeout(function(){e()},200)},n.src=t,document.getElementsByTagName("head")[0].appendChild(n)}function b(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)}var S="_cc2_email",T="_cc2_cId",x="_cc2_sId",O="_cc2_cv",E="_cc2_vp",I=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var j;"undefined"==typeof Element||Element.prototype.matches||((j=Element.prototype).matches=j.matchesSelector||j.mozMatchesSelector||j.msMatchesSelector||j.oMatchesSelector||j.webkitMatchesSelector);var A=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}};function _(t,e,n,r,o){var i=function(e,n,t,r){return function(t){t.delegateTarget=A(t.target,n),t.delegateTarget&&r.call(e,t)}}.apply(this,arguments);return t.addEventListener(n,i,o),{destroy:function(){t.removeEventListener(n,i,o)}}}var C=function(t,e,n,r,o){return"function"==typeof t.addEventListener?_.apply(null,arguments):"function"==typeof n?_.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return _(t,e,n,r,o)}))},k={},L=k.toString,P=/^[\w-]*$/,N=document.createElement("table"),W=document.createElement("tr"),M=(document.createElement("tbody"),document.createElement("div"),[].slice);function D(t){return t?k[L.call(t)]||"object":String(t)}function F(t){return"object"===D(t)}function R(t){return null!=t&&t===t.window}function G(t){return F(t)&&!R(t)&&Object.getPrototypeOf(t)===Object.prototype}var $=Array.isArray||function(t){return t instanceof Array};function U(e){for(var n,t=arguments.length,r=new Array(1<t?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return"boolean"==typeof e&&(n=e,e=r.shift()),r.forEach(function(t){!function t(e,n,r){for(var o in n)r&&(G(n[o])||$(n[o]))?(G(n[o])&&!G(e[o])&&(e[o]={}),$(n[o])&&!$(e[o])&&(e[o]=[]),t(e[o],n[o],r)):void 0!==n[o]&&(e[o]=n[o])}(e,t,n)}),e}function X(t){var e=B(t);return"object"===e?D(t):e}function q(t){return"function"===X(t)}function V(t,e){if(i=!!(o=t)&&"length"in o&&o.length,"function"!==(a=D(o))&&!R(o)&&("array"===a||0===i||"number"==typeof i&&0<i&&i-1 in o)){for(var n=0;n<t.length;n++)if(!1===e.call(t[n],n,t[n]))return t}else for(var r in t)if(!1===e.call(t[r],r,t[r]))return t;var o,i,a;return t}var J=encodeURIComponent;function K(t,e){var n=[];return n.add=function(t,e){q(e)&&(e=e()),null==e&&(e=""),n.push("".concat(J(t),"=").concat(J(e)))},function o(i,t,a,c){var s=$(t),u=F(t);V(t,function(t,e){var n=t,r=X(e);c&&(n=a?c:"".concat(c,"[").concat(u||"object"===r||"array"===r?t:"","]")),!c&&s?i.add(e.name,e.value):"array"===r||!a&&"object"===r?o(i,e,a,n):i.add(n,e)})}(n,t,e),n.join("&").replace(/%20/g,"+")}var H=0;function z(){}function Y(){var t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2];return q(e)&&(n=arguments.length<=1?void 0:arguments[1],e=void 0),q(n)||(n=z),r({url:t,success:n},e)}function Z(){return Q.apply(this,arguments)}function Q(){var c;return c=regeneratorRuntime.mark(function t(i){var a,c,s,u,l,f,d,p,h,m,y,v,g,w,b,S,T,x,O,E,I,j,A,_,B,C,k,L,P,N,W,M;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(M=function(t,e){if(4===_.readyState)if(_.onreadystatechange=z,clearTimeout(A),200<=_.status&&_.status<300||304===_.status||0===_.status&&"file:"===j){if(x=x||w(b.mimeType||_.getResponseHeader("content-type")),"arraybuffer"===_.responseType||"blob"===_.responseType)N=_.response;else{N=_.responseText;try{N=g(N,x,b),"script"===x?(0,eval)(N):"xml"===x?N=_.responseXML:"json"===x&&(N=f.test(N)?null:JSON.parse(N))}catch(t){W=t}if(W)return v(W,"parsererror",_,b,e)}y(N,_,b,e)}else v(_.statusText||null,_.status?"error":"abort",_,b,e)},w=function(t){if(t){if((t=t.split(";",2)[0])===l)return"html";if(t===u)return"json";if(c.test(t))return"script";if(s.test(t))return"xml"}return"text"},g=function(t,e,n){return n.dataFilter===z?t:n.dataFilter.call(n.context,t,e)},v=function(t,e,n,r,o){r.error.call(r.context,n,e,t),o&&o(),m(e,n,r)},y=function(t,e,n,r){var o="success";n.success.call(n.context,t,o,e),r&&r(),m(o,e,n)},m=function(t,e,n){n.complete.call(n.context,e,t),H--},h=function(t,e){if(!1===e.beforeSend.call(e.context,t,e))return!1},a=window.document,c=/^(?:text|application)\/javascript/i,s=/^(?:text|application)\/xml/i,u="application/json",l="text/html",f=/^\s*$/,(d=a.createElement("a")).href=window.location.href,p={script:"text/javascript, application/javascript, application/x-javascript",json:u,xml:"application/xml, text/xml",html:l,text:"text/plain"},b=U({},i||{}),H++,b.method?b.method=b.method.toUpperCase():b.method="GET",b.url||(b.url=window.location.toString()),-1<(S=b.url.indexOf("#"))&&(b.url=b.url.slice(0,S)),b.crossDomain||(r=b.url,o=void 0,(o=document.createElement("a")).href=r,o.href=o.href,T=o,b.crossDomain="".concat(d.protocol,"//").concat(d.host)!=="".concat(T.protocol,"//").concat(T.host)),("number"!==X(b.timeout)||b.timeout<0)&&(b.timeout=0),b.processData&&b.data&&"string"!==X(b.data)&&(FormData&&b.data instanceof FormData?b.contentType="multipart/form-data":b.contentType&&-1<b.contentType.indexOf("application/json")?b.data=JSON.stringify(b.data):b.data=K(b.data,b.traditional)),b.data&&"GET"===b.method&&(b.url=(e=b.url,""===(n=b.data)?e:"".concat(e,"&").concat(n).replace(/[&?]{1,2}/,"?")),b.data=void 0),x=b.dataType,O=p[x],E={},I=function(t,e){E[t.toLowerCase()]=[t,e]},j=/^([\w-]+:)\/\//.test(b.url)?RegExp.$1:window.location.protocol,_=new window.XMLHttpRequest,B=_.setRequestHeader,b.crossDomain||I("X-Requested-With","XMLHttpRequest"),I("Accept",O||"*/*"),(O=b.mimeType||O)&&(-1<O.indexOf(",")&&(O=O.split(",",2)[0]),_.overrideMimeType&&_.overrideMimeType(O)),b.headers)for(C in b.headers)C&&I(C,b.headers[C]);if((b.contentType||!1!==b.contentType&&b.data&&"GET"!==b.method)&&I("Content-Type",b.contentType||"application/x-www-form-urlencoded"),_.setRequestHeader=I,!1===h(_,b))return _.abort(),H--,v(null,"abort",_,b),t.abrupt("return",_);t.next=45;break;case 45:if(k=!("async"in b)||b.async,_.open(b.method,b.url,k,b.username,b.password),b.xhrFields)for(L in b.xhrFields)L&&(_[L]=b.xhrFields[L]);for(P in E)P&&B.apply(_,E[P]);if(0<b.timeout&&(A=setTimeout(function(){_.onreadystatechange=z,_.abort(),v(null,"timeout",_,b)},b.timeout)),W=!1,b.await)return t.next=54,new Promise(function(t){_.onreadystatechange=function(){M(t)},_.send(b.data?b.data:null)});t.next=55;break;case 54:return t.abrupt("return",W||N);case 55:return _.onreadystatechange=M,_.send(b.data?b.data:null),t.abrupt("return",_);case 58:case"end":return t.stop()}var e,n,r,o},t)}),(Q=function(){var t=this,a=arguments;return new Promise(function(e,n){var r=c.apply(t,a);function o(t){s(r,e,n,o,i,"next",t)}function i(t){s(r,e,n,o,i,"throw",t)}o(void 0)})}).apply(this,arguments)}function tt(t){if(G(t))return Z(U({},tt.defaultSettings,t))}function et(t,e){var n,r="#"===e[0],o=!r&&"."===e[0],i=r||o?e.slice(1):e,a=P.test(i);if(t.getElementById&&a&&r){var c=t.getElementById(i);return c?[c]:[]}return 1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:(n=a&&!r&&t.getElementsByClassName?o?t.getElementsByClassName(i):t.getElementsByTagName(e):t.querySelectorAll(e),M.call(n))}tt.defaultSettings={method:"GET",beforeSend:z,success:z,error:z,complete:z,context:null,xhr:function(){return new window.XMLHttpRequest},crossDomain:!1,timeout:0,processData:!0,cache:!0,dataFilter:z},tt.get=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Z(U({},tt.defaultSettings,Y.apply(null,e)))},tt.getJSON=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Y.apply(null,e);return r.dataType="json",Z(U({},tt.defaultSettings,r))},tt.post=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Y.apply(null,e);return r.method="POST",Z(U({},tt.defaultSettings,r))},tt.postJSON=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Y.apply(null,e);return r.dataType="json",r.method="POST",Z(U({},tt.defaultSettings,r))},tt.put=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Y.apply(null,e);return r.method="PUT",Z(U({},tt.defaultSettings,r))},tt.delete=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Y.apply(null,e);return r.method="DELETE",Z(U({},tt.defaultSettings,r))},tt.active=function(){return H};var nt=null;var rt={endpoint:"",ssEndpoint:"",addCartForm:"form[data-cart-item-add]",addCartButton:'[id="form-action-addToCart"]',ajaxButton:"[data-cart-item-add]",productAlertBox:".swal2-content",cartAlertBox:".alertBox",country:"US"},ot=c(),it=m(T);return it&&(v(T,it),h(T,"",0)),{options:{},clientId:g(T)||"",sessionId:m(x),gid:m("_ga"),captureEmail:function(){C("input","change",function(t){var e=t.target.value;I.test(e)&&v(S,e.trim())})},applyEmailToCart:function(){var t=this;nt&&clearTimeout(nt),nt=setTimeout(function(){var a,c;a=t,c=g(S),tt.get("/api/storefront/carts?include=lineItems.digitalItems.options,lineItems.physicalItems.options",function(e){e.forEach(function(t){var e;a.sendCart(t),c&&!t.email&&(e=m("XSRF-TOKEN"),tt({url:"/api/storefront/checkouts/".concat(t.id,"/billing-address"),method:"POST",data:{email:c},contentType:"application/json; charset=utf-8",headers:{"x-xsrf-token":"".concat(e,", ").concat(e,", ").concat(e)},success:function(t){t.cart&&t.cart.id&&a.sendCart(t.cart),tt.post("/subscribe.php",{data:{action:"subscribe",nl_email:c,nl_first_name:"",check:1}})},error:function(){a.submitError({error:'Error: Can not update email "'.concat(c,'" to cart.'),type:"cc",cartId:t.id,email:c})}}))});var t=document,n=window.location.href,r=a.options,o=et(t,r.productAlertBox),i="Add Cart";(/\/cart.php/.test(n)||/\/checkout/.test(n))&&(o=et(t,r.cartAlertBox),i="Cart"),o.length&&o.forEach(function(t){a.submitError({error:"".concat(i," Error:: ").concat(t.innerText.trim()),type:"bc",cartId:e.length?e[0].id:""})})})},200)},view:function(){var t,e,n,r,o,i;window.__cc_data__&&(t=this.options,n=(e=window.__cc_data__).type,(r=e.data)&&(r.url=window.location.href,(o=(o=g(E))?JSON.parse(o):{product:{},category:{},brand:{}})[n]||(o[n]={}),i=r["".concat(n,"Id")],"brand"===n&&(i=r.name.replace(/[^\w]|[\s]/g,"")),o[n][i]||(o[n][i]=1,v(E,JSON.stringify(o)),this.callServer("brand"===n?"".concat(t.endpoint,"/brands/view"):"".concat(t.endpoint,"/").concat({product:"products",category:"categories"}[n],"/").concat(r["".concat(n,"Id")],"/view"),"POST",r))))},sendCart:function(t){var e,n=this.options,r=[];for(e in t.lineItems)"physicalItems"!==e&&"digitalItems"!==e||t.lineItems[e].forEach(function(t){r.push({productId:t.productId,variantId:t.variantId,sku:t.sku,name:t.name,url:t.url,image:t.imageUrl,price:t.salePrice,quantity:t.quantity,total:t.extendedSalePrice,options:t.options})});this.callServer("".concat(n.endpoint,"/carts"),"POST",{id:t.id,email:t.email,cartAmount:t.cartAmount,updatedTime:t.updatedTime,createdTime:t.createdTime,items:r,country:n.country})},main:function(){var r=this,o=r.options;(Array.isArray(o.addCartForm)?o.addCartForm:[o.addCartForm]).forEach(function(t){C(t,"submit",function(t){var e,n=et(t.target,o.addCartButton);n.length?e=setInterval(function(){n[0].hasAttribute("disabled")||(e=clearInterval(e),r.applyEmailToCart())},200):r.applyEmailToCart()})}),(Array.isArray(o.ajaxButton)?o.ajaxButton:[o.ajaxButton]).forEach(function(t){C(t,"click",function(){setTimeout(function(){r.applyEmailToCart()},2500)})});var t=window.location.href;(/\/cart.php/.test(t)||/\/checkout/.test(t))&&r.applyEmailToCart()},session:function(){var o,i=this,t=i.options;t.ssEndpoint&&(o=(new Date).getTime(),w("https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.slim.js",function(){var r=io(t.ssEndpoint);r.on("connect",function(){function e(){var t;n.length&&(t=a(n),n=[],r.compress(!0).emit("save-events",{events:t,sessionId:i.sessionId,title:document.title,path:window.location.pathname,startedTime:o,timestamp:(new Date).getTime()}))}var n=[];w("https://cdn.jsdelivr.net/npm/rrweb@latest/dist/record/rrweb-record.min.js",function(){rrwebRecord({emit:function(t){n.push(t),50<n.length&&e()}})}),b(document,"mouseleave",function(){e()}),b(window,"beforeunload",function(){e(),function(t){for(var e=(new Date).getTime();(new Date).getTime()-e<t;);}(250)}),setInterval(function(){e()},5e3)})}))},getClientId:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=this,r=n.clientId,o=n.options,i=(i=g(O))?parseInt(i,10):0;o.email&&!g(S)&&(v(S,o.email),i=0),!t&&r&&parseInt((new Date).valueOf()/1e3,10)-i<60?"function"==typeof e&&e():n.callServer("".concat(o.endpoint,"/client-id"),"POST",{domain:window.location.host,email:o.email||g(S)||g("_cc_email"),url:window.location.href},function(t){v(O,parseInt((new Date).valueOf()/1e3,10)),t.email&&v(S,t.email),t.sessionId&&(n.sessionId=t.sessionId,h(x,t.sessionId,1200)),v(E,'{"product":{},"category":{},"brand":{}}'),t.clientId&&(n.clientId=t.clientId,v(T,n.clientId)),"function"==typeof e&&e()})},callServer:function(t,e,n,r){var o=this.clientId,i=JSON.stringify(n),a=Math.round((new Date).getTime()/1e3),c=p("".concat(i).concat(o).concat(a));tt({url:"".concat(t,"?apiKey=").concat(this.options.apiKey),method:e,data:{data:i,clientId:o,sessionId:this.sessionId,gid:this.gid,browser:ot.name,browserVersion:ot.version,os:ot.os,country:this.options.country,timestamp:a,checksum:c},crossDomain:!0,xhrFields:{withCredentials:!0},success:function(t){"function"==typeof r&&r(t)}})},submitError:function(t){this.callServer("".concat(this.options.endpoint,"/errors"),"POST",t)},init:function(t){var e=this;e.options=r(r({},rt),t),e.options.endpoint=e.options.endpoint.replace(/\/*\s*$/,""),e.getClientId(function(){e.options.email||e.captureEmail(),e.main(),e.session(),e.view()}),e.gid||setTimeout(function(){e.gid=m("_ga"),e.gid&&e.getClientId(null,!0)},5e3),setInterval(function(){v(O,parseInt((new Date).valueOf()/1e3,10)),h(x,e.sessionId,1200)},2e4)}}});
